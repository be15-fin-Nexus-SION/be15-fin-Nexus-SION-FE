<template>
  <div>
    <h3 class="font-semibold mb-1">ğŸ’° ë¹„ìš© ìƒì„¸ë‚´ì—­</h3>

    <!-- ì´ ì˜ˆìƒ ì˜ˆì‚° -->
    <p class="text-sm mb-2">
      ì´ ì˜ˆìƒ ì˜ˆì‚°: <strong>{{ total || "-" }}</strong>
    </p>

    <!-- ìƒì„¸ í…Œì´ë¸” -->
    <table class="w-full text-sm border">
      <thead>
        <tr class="bg-gray-100">
          <th class="border p-2 text-center">ì´ë¦„</th>
          <th class="border p-2 text-center">ì§ë¬´</th>
          <th class="border p-2 text-center">ë“±ê¸‰</th>
          <th class="border p-2 text-center">ë‹¨ê°€</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="emp in details" :key="emp.name + emp.job">
          <td class="border p-2 text-center">{{ emp.name }}</td>
          <td class="border p-2 text-center">{{ emp.job }}</td>
          <td class="border p-2 text-center">{{ emp.grade }}</td>
          <td class="border p-2 text-center">{{ formatCost(emp.cost) }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</template>

<script setup>
defineProps({
  details: {
    type: Array,
    default: () => [],
  },
  total: {
    type: String,
    default: "-",
  },
});

/**
 * ìˆ«ì í¬ë§· (â‚©1,000,000)
 */
const formatCost = (cost) => {
  const n = Number(cost);
  if (!n || isNaN(n)) return "-";
  return `â‚©${n.toLocaleString()}`;
};
</script>
